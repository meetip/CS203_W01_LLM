<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>API Error Handling & Best Practices</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Fira+Code:wght@400;500&family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        body, html {
            margin: 0;
            padding: 0;
            width: 100%;
            height: 100%;
            display: flex;
            align-items: center;
            justify-content: center;
            background-color: #f0f0f0;
            overflow: auto;
            font-family: 'Inter', sans-serif;
        }
        .slide {
            width: 1280px;

            height: 720px;
            background-color: #121212;
            color: #e0e0e0;
            display: flex;
            flex-direction: column; 
            padding: 30px 40px;
            box-sizing: border-box;
            box-shadow: 0 10px 30px rgba(0,0,0,0.5);
            animation: fadeIn 0.8s ease-in-out;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: scale(0.95); }
            to { opacity: 1; transform: scale(1); }
        }
        .header {
            text-align: center;
            border-bottom: 1px solid #333;
            padding-bottom: 15px;
            margin-bottom: 20px;
        }
        .header h1 {
            font-size: 40px;
            font-weight: 700;
            color: #ffffff;
            margin: 0;
            letter-spacing: 1px;
        }
        .header h2 {
            font-size: 20px;
            font-weight: 400;
            color: #00bcd4;
            margin: 5px 0 0;
        }
        .content-grid {
            display: flex;
            flex-direction: column;
            gap: 20px;
            flex-grow: 1;
        }
        .error-section {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 20px;
        }
        .error-card {
            background-color: #402121;
            border: 1px solid #d32f2f;
            border-radius: 8px;
            padding: 15px;
            transition: transform 0.2s ease, box-shadow 0.2s ease;
        }
        .error-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 16px rgba(211, 47, 47, 0.2);
        }
        .error-card h3 {
            font-size: 18px;
            font-weight: 600;
            color: #ff8a80;
            margin: 0 0 10px 0;
            border-bottom: 1px solid #614141;
            padding-bottom: 8px;
        }
        .error-card ul {
            list-style-type: none;
            padding: 0;
            margin: 0;
            font-size: 13px;
            color: #e0e0e0;
        }
        .error-card li {
            margin-bottom: 8px;
        }
        .error-card li strong {
            color: #ffab91;
            display: inline-block;
            width: 70px;
        }
        .middle-section {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            background-color: #1e1e1e;
            padding: 15px;
            border-radius: 8px;
            border: 1px solid #333;
        }
        .middle-section h3 {
            font-size: 18px;
            color: #00bcd4;
            margin-top: 0;
            margin-bottom: 10px;
        }
        .middle-section ul {
            list-style: none;
            padding-left: 15px;
            margin: 0;
            font-size: 14px;
        }
        .middle-section li {
            position: relative;
            padding-left: 20px;
            margin-bottom: 8px;
        }
        .middle-section li::before {
            content: '»';
            position: absolute;
            left: 0;
            color: #00bcd4;
            font-weight: bold;
        }
        .bottom-section {
            display: grid;
            grid-template-columns: 3fr 2fr;
            gap: 20px;
            flex-grow: 1;
            min-height: 0;
        }
        .code-container {
            background-color: #282c34;
            border-radius: 8px;
            padding: 15px;
            display: flex;
            flex-direction: column;
            min-height: 0;
        }
        .code-container h3 {
            font-size: 18px;
            color: #98c379;
            margin-top: 0;
            margin-bottom: 10px;
            border-bottom: 1px solid #444;
            padding-bottom: 8px;
        }
        pre {
            margin: 0;
            font-family: 'Fira Code', monospace;
            font-size: 13px;
            line-height: 1.6;
            color: #abb2bf;
            flex-grow: 1;
            overflow-y: auto;
            white-space: pre-wrap;
        }
        .code-keyword { color: #c678dd; }
        .code-function { color: #61afef; }
        .code-string { color: #98c379; }
        .code-comment { color: #5c6370; font-style: italic; }
        .code-number { color: #d19a66; }
        .code-decorator { color: #e5c07b; }
        .checklist-container {
            background-color: #1e1e1e;
            border: 1px solid #333;
            border-radius: 8px;
            padding: 15px;
            display: flex;
            flex-direction: column;
        }
        .checklist-container h3 {
            font-size: 18px;
            color: #e5c07b;
            margin-top: 0;
            margin-bottom: 15px;
        }
        .checklist-container ul {
            list-style: none;
            padding: 0;
            margin: 0;
            flex-grow: 1;
        }
        .checklist-container li {
            margin-bottom: 8px;
            font-size: 14px;
            display: flex;
            align-items: center;
        }
        .checklist-container .check {
            color: #98c379;
            font-weight: bold;
            margin-right: 10px;
            font-size: 16px;
        }
    </style>
</head>
<body>
    <div class="slide">
        <div class="header">
            <h1>API Error Handling & Best Practices</h1>
            <h2>Building Robust LLM Applications</h2>
        </div>
        <div class="content-grid">
            <div class="error-section">
                <div class="error-card">
                    <h3>⚠️ 401 Unauthorized</h3>
                    <ul>
                        <li><strong>Cause:</strong> Invalid or missing API key</li>
                        <li><strong>Solution:</strong> Check API key format and permissions</li>
                        <li><strong>Prevent:</strong> Secure key storage, regular key rotation</li>
                    </ul>
                </div>
                <div class="error-card">
                    <h3>⚠️ 429 Too Many Requests</h3>
                    <ul>
                        <li><strong>Cause:</strong> Rate limit exceeded</li>
                        <li><strong>Solution:</strong> Implement exponential backoff</li>
                        <li><strong>Prevent:</strong> Track request rates, use queuing</li>
                    </ul>
                </div>
                <div class="error-card">
                    <h3>⚠️ 400 Bad Request</h3>
                    <ul>
                        <li><strong>Cause:</strong> Invalid parameters or format</li>
                        <li><strong>Solution:</strong> Validate inputs before sending</li>
                        <li><strong>Prevent:</strong> Input validation, parameter checking</li>
                    </ul>
                </div>
                <div class="error-card">
                    <h3>⚠️ 500 Internal Server Error</h3>
                    <ul>
                        <li><strong>Cause:</strong> Provider-side issues</li>
                        <li><strong>Solution:</strong> Retry with exponential backoff</li>
                        <li><strong>Prevent:</strong> Implement robust retry logic</li>
                    </ul>
                </div>
            </div>

            <div class="middle-section">
                <div>
                    <h3>Understanding Limits</h3>
                    <ul>
                        <li><strong>RPM:</strong> Requests per minute (e.g., 60 RPM)</li>
                        <li><strong>TPM:</strong> Tokens per minute (e.g., 90,000 TPM)</li>
                        <li><strong>Daily quotas:</strong> Total usage per day</li>
                        <li><strong>Concurrent requests:</strong> Simultaneous request limits</li>
                    </ul>
                </div>
                <div>
                    <h3>Mitigation Strategies</h3>
                    <ul>
                        <li><strong>Request queuing:</strong> Queue requests to stay under limits</li>
                        <li><strong>Token estimation:</strong> Count tokens before API calls</li>
                        <li><strong>Batch processing:</strong> Combine multiple requests when possible</li>
                        <li><strong>Graceful degradation:</strong> Fallback options for limit hits</li>
                    </ul>
                </div>
            </div>

            <div class="bottom-section">
                <div class="code-container">
                    <h3>Best Practices Code Example</h3>
<pre><code class="language-python"><span class="code-keyword">import</span> time
<span class="code-keyword">import</span> random

<span class="code-keyword">def</span> <span class="code-function">call_llm_with_retry</span>(prompt, max_retries=<span class="code-number">3</span>):
    <span class="code-keyword">for</span> attempt <span class="code-keyword">in</span> <span class="code-function">range</span>(max_retries):
        <span class="code-keyword">try</span>:
            response = client.chat.completions.create(
                model=<span class="code-string">"gpt-3.5-turbo"</span>,
                messages=[{<span class="code-string">"role"</span>: <span class="code-string">"user"</span>, <span class="code-string">"content"</span>: prompt}],
                timeout=<span class="code-number">30</span>
            )
            <span class="code-keyword">return</span> response
        <span class="code-keyword">except</span> RateLimitError:
            <span class="code-keyword">if</span> attempt &lt; max_retries - <span class="code-number">1</span>:
                wait_time = (<span class="code-number">2</span> ** attempt) + random.uniform(<span class="code-number">0</span>, <span class="code-number">1</span>)
                time.sleep(wait_time)
            <span class="code-keyword">else</span>:
                <span class="code-keyword">raise</span>
        <span class="code-keyword">except</span> APIError <span class="code-keyword">as</span> e:
            <span class="code-function">print</span>(f<span class="code-string">"API Error: {e}"</span>)
            <span class="code-keyword">return</span> None
</code></pre>
                </div>
                <div class="checklist-container">
                    <h3>Production Readiness Checklist</h3>
                    <ul>
                        <li><span class="check">✓</span><strong>API Key Security:</strong> Environment variables, secure storage</li>
                        <li><span class="check">✓</span><strong>Error Handling:</strong> Comprehensive try-catch blocks</li>
                        <li><span class="check">✓</span><strong>Retry Logic:</strong> Exponential backoff with jitter</li>
                        <li><span class="check">✓</span><strong>Rate Limiting:</strong> Request queuing and throttling</li>
                        <li><span class="check">✓</span><strong>Monitoring:</strong> Log errors and track usage</li>
                        <li><span class="check">✓</span><strong>Fallback Options:</strong> Alternative responses for failures</li>
                        <li><span class="check">✓</span><strong>Timeout Handling:</strong> Set appropriate timeout values</li>
                        <li><span class="check">✓</span><strong>Input Validation:</strong> Sanitize and validate all inputs</li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
</body>
</html>